{"ast":null,"code":"import _objectSpread from\"D:/jarvis-final/jarviis-msa-front-for-merge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/jarvis-final/jarviis-msa-front-for-merge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Map,MapMarker,useMap}from'react-kakao-maps-sdk';import{useState,React,useEffect}from'react';import EventMarkerContainer from'./EventMarkerContainer';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HistoryMap(props){// const map = useMap()\n// const [map, setMap] = useState()\nvar t=props.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState({center:{lat:33.450701,lng:126.570667},errMsg:null,isLoading:true}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// let points = useSelector(state => state.history.historyData.map(\n//   x => {\n//     return {\n//       content: <div style={{ padding: \"5px\", color: \"#000\" }}>{x.name}</div>,\n//       latlng: { lat: x.latitude, lng: x.longitude }\n//     }\n//   }\n// ))\nvar points=t.map(function(x){console.log(\"x.location :: \".concat(JSON.stringify(x.location)));return{content:/*#__PURE__*/_jsx(\"div\",{style:{padding:\"5px\",color:\"#000\"},children:JSON.stringify(x.location)}),// latlng: { lat: parseFloat(x.y), lng: parseFloat(x.x) }\n// latlng: { lat: parseFloat(x.x), lng: parseFloat(x.y) }\nlatlng:{lat:Math.floor(x.y*1000000)/1000000,lng:Math.floor(x.x*1000000)/1000000}};});useEffect(function(){if(navigator.geolocation){// GeoLocation을 이용해서 접속 위치를 얻어옵니다\nnavigator.geolocation.getCurrentPosition(function(position){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{center:{lat:position.coords.latitude,// 위도\nlng:position.coords.longitude// 경도\n},isLoading:false});});},function(err){setState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:err.message,isLoading:false});});});}else{// HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다\nsetState(function(prev){return _objectSpread(_objectSpread({},prev),{},{errMsg:\"현재 위치를 찾을수없습니다.\",isLoading:false});});}},[]);return/*#__PURE__*/_jsxs(Map// 지도를 표시할 Container\n,{center:state.center,style:{// 지도의 크기\nwidth:\"95%\",height:\"450px\"},level:3// 지도의 확대 레벨\n,children:[!state.isLoading&&/*#__PURE__*/ // <MapMarker position={state.center}>\n// </MapMarker>\n_jsx(MapMarker,{position:{lat:state.center.lat,lng:state.center.lng}// title='현재 위치'\n,image:{// 무료 마커이미지의 주소: https://www.flaticon.com/kr/\n// src: \"https://cdn-icons.flaticon.com/png/512/5693/premium/5693914.png?token=exp=1637741898~hmac=fada3fe37d0197cf397c5d7713400e95\",\n// src: \"https://cdn-icons.flaticon.com/png/512/5693/premium/5693889.png?token=exp=1640321865~hmac=62f8675abb29add857f5350b5ba27672\",\nsrc:\"https://cdn-icons-png.flaticon.com/512/5015/5015093.png\",size:{width:45,height:45},options:{offset:{x:25,y:45}}}// onClick={(marker) => map.panTo(marker.getPosition())}\n,onMouseOver:function onMouseOver(){return setIsOpen(true);},onMouseOut:function onMouseOut(){return setIsOpen(false);},children:isOpen&&/*#__PURE__*/_jsx(\"div\",{style:{padding:\"5px\",color:\"#000\"},children:\"\\uB0B4 \\uC704\\uCE58\"})}),points.map(function(value){return/*#__PURE__*/_jsx(EventMarkerContainer,{position:value.latlng,content:value.content},\"EventMarkerContainer-\".concat(value.latlng.lat,\"-\").concat(value.latlng.lng));})]});}export default HistoryMap;","map":null,"metadata":{},"sourceType":"module"}