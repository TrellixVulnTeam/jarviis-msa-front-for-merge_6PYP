{"ast":null,"code":"import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { historyFailure, historyRemoveFailure, historyRemoveRequest, historyRemoveSuccess, historyRequest, historySuccess } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\";\nimport { historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAutoAddRequest, historyAutoAddSuccess, historyAutoAddFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action) {\n  try {\n    const result = yield call(historyAPI.createAPI, action.payload);\n    yield put(historySuccess(result));\n    alert(JSON.stringify(result));\n    window.location.href = \"/history/history\";\n  } catch (error) {\n    yield put(historyFailure(error));\n    alert(`ERROR :: ${error}`);\n  }\n}\n\nexport function* watchCreate() {\n  yield takeLatest(historyRequest.type, create);\n} //리스트\n\nfunction* list(action) {\n  alert('# 3 SAGA - historyRequest');\n\n  try {\n    const result = yield call(historyAPI.listAPI, action.payload);\n    alert('# 5 SAGA success - historyRequest');\n    yield put(historyListSuccess(result));\n    window.localStorage.setItem('sessionHistory', JSON.stringify(result.data));\n  } catch (error) {\n    yield put(historyListFailure(error));\n    alert(error);\n  }\n}\n\nexport function* watchHistoryList() {\n  yield takeLatest(historyListRequest.type, list);\n} //수정\n\nfunction* modify(action) {\n  try {\n    const result = yield call(historyAPI.modifyAPI, action.payload);\n    yield put(historyModifySuccess(result));\n    window.location.href = \"/history/history\";\n  } catch (error) {\n    yield put(historyModifyFailure(error));\n    alert(error);\n  }\n}\n\nexport function* watchHistoryModify() {\n  yield takeLatest(historyModifyRequest.type, modify);\n} //자동 기록 추가\n\nfunction* autoAdd(action) {\n  try {\n    const result = yield call(historyAPI.autoAddAPI, action.payload);\n    yield put(historyAutoAddSuccess(result));\n    window.location.href = \"/history/history\";\n  } catch (error) {\n    yield put(historyAutoAddFailure(error));\n    alert(error);\n  }\n}\n\nexport function* watchHistoryAutoAdd() {\n  yield takeLatest(historyAutoAddRequest.type, autoAdd);\n} // 삭제\n\nfunction* remove(action) {\n  try {\n    const result = yield call(historyAPI.removeAPI, action.payload);\n    yield put(historyRemoveSuccess(result));\n    window.location.href = \"/history/history\";\n  } catch (error) {\n    yield put(historyRemoveFailure(error));\n    alert(error);\n  }\n}\n\nexport function* watchHistoryRemove() {\n  yield takeLatest(historyRemoveRequest.type, remove);\n}","map":{"version":3,"sources":["C:/자비스 임시/jarviis_docker/front/src/features/history/module/historySaga.ts"],"names":["call","put","takeLatest","historyFailure","historyRemoveFailure","historyRemoveRequest","historyRemoveSuccess","historyRequest","historySuccess","historyListRequest","historyListSuccess","historyListFailure","historyModifyRequest","historyModifySuccess","historyModifyFailure","historyAutoAddRequest","historyAutoAddSuccess","historyAutoAddFailure","historyAPI","create","action","result","createAPI","payload","alert","JSON","stringify","window","location","href","error","watchCreate","type","list","listAPI","localStorage","setItem","data","watchHistoryList","modify","modifyAPI","watchHistoryModify","autoAdd","autoAddAPI","watchHistoryAutoAdd","remove","removeAPI","watchHistoryRemove"],"mappings":"AACA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAA6BC,cAA7B,EAA6DC,oBAA7D,EAAyGC,oBAAzG,EAA+HC,oBAA/H,EAAqJC,cAArJ,EAAqKC,cAArK,QAA4M,uCAA5M;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,EAAiDC,kBAAjD,QAA2E,uCAA3E;AACA,SAA+BC,oBAA/B,EAAqDC,oBAArD,EAA2EC,oBAA3E,QAAuG,uCAAvG;AACA,SAASC,qBAAT,EAAgCC,qBAAhC,EAAuDC,qBAAvD,QAAoF,uCAApF;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,UAAUC,MAAV,CAAiBC,MAAjB,EAAwD;AACpD,MAAI;AACA,UAAMC,MAA0B,GAAG,MAAMrB,IAAI,CACzCkB,UAAU,CAACI,SAD8B,EAEzCF,MAAM,CAACG,OAFkC,CAA7C;AAIA,UAAMtB,GAAG,CAACO,cAAc,CAACa,MAAD,CAAf,CAAT;AACAG,IAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAAD,CAAL;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH,GARD,CAQE,OAAOC,KAAP,EAAmB;AACjB,UAAM7B,GAAG,CAACE,cAAc,CAAC2B,KAAD,CAAf,CAAT;AACAN,IAAAA,KAAK,CAAE,YAAWM,KAAM,EAAnB,CAAL;AACH;AACJ;;AAED,OAAO,UAAUC,WAAV,GAAwB;AAC3B,QAAM7B,UAAU,CAACK,cAAc,CAACyB,IAAhB,EAAsBb,MAAtB,CAAhB;AACH,C,CACD;;AACA,UAAUc,IAAV,CAAeb,MAAf,EAAuD;AACnDI,EAAAA,KAAK,CAAC,2BAAD,CAAL;;AAEA,MAAI;AACA,UAAMH,MAA0B,GAAG,MAAMrB,IAAI,CACzCkB,UAAU,CAACgB,OAD8B,EAEzCd,MAAM,CAACG,OAFkC,CAA7C;AAIAC,IAAAA,KAAK,CAAC,mCAAD,CAAL;AACA,UAAMvB,GAAG,CAACS,kBAAkB,CAACW,MAAD,CAAnB,CAAT;AAGAM,IAAAA,MAAM,CAACQ,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,EAA8CX,IAAI,CAACC,SAAL,CAAeL,MAAM,CAACgB,IAAtB,CAA9C;AAEH,GAXD,CAWE,OAAOP,KAAP,EAAmB;AACjB,UAAM7B,GAAG,CAACU,kBAAkB,CAACmB,KAAD,CAAnB,CAAT;AACAN,IAAAA,KAAK,CAACM,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUQ,gBAAV,GAA6B;AAChC,QAAMpC,UAAU,CAACO,kBAAkB,CAACuB,IAApB,EAA0BC,IAA1B,CAAhB;AACH,C,CACD;;AACA,UAAUM,MAAV,CAAiBnB,MAAjB,EAA8D;AAC1D,MAAI;AACA,UAAMC,MAA4B,GAAG,MAAMrB,IAAI,CAC3CkB,UAAU,CAACsB,SADgC,EAE3CpB,MAAM,CAACG,OAFoC,CAA/C;AAIA,UAAMtB,GAAG,CAACY,oBAAoB,CAACQ,MAAD,CAArB,CAAT;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH,GAPD,CAOE,OAAOC,KAAP,EAAmB;AACjB,UAAM7B,GAAG,CAACa,oBAAoB,CAACgB,KAAD,CAArB,CAAT;AACAN,IAAAA,KAAK,CAACM,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUW,kBAAV,GAA+B;AAClC,QAAMvC,UAAU,CAACU,oBAAoB,CAACoB,IAAtB,EAA4BO,MAA5B,CAAhB;AACH,C,CAED;;AACA,UAAUG,OAAV,CAAkBtB,MAAlB,EAA6D;AACzD,MAAI;AACA,UAAMC,MAA0B,GAAG,MAAMrB,IAAI,CACzCkB,UAAU,CAACyB,UAD8B,EAEzCvB,MAAM,CAACG,OAFkC,CAA7C;AAIA,UAAMtB,GAAG,CAACe,qBAAqB,CAACK,MAAD,CAAtB,CAAT;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH,GAPD,CAOE,OAAOC,KAAP,EAAmB;AACjB,UAAM7B,GAAG,CAACgB,qBAAqB,CAACa,KAAD,CAAtB,CAAT;AACAN,IAAAA,KAAK,CAACM,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUc,mBAAV,GAAgC;AACnC,QAAM1C,UAAU,CAACa,qBAAqB,CAACiB,IAAvB,EAA6BU,OAA7B,CAAhB;AACH,C,CACD;;AACA,UAAUG,MAAV,CAAiBzB,MAAjB,EAA8D;AAC1D,MAAI;AACA,UAAMC,MAA4B,GAAG,MAAMrB,IAAI,CAC3CkB,UAAU,CAAC4B,SADgC,EAE3C1B,MAAM,CAACG,OAFoC,CAA/C;AAIA,UAAMtB,GAAG,CAACK,oBAAoB,CAACe,MAAD,CAArB,CAAT;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH,GAPD,CAOE,OAAOC,KAAP,EAAmB;AACjB,UAAM7B,GAAG,CAACG,oBAAoB,CAAC0B,KAAD,CAArB,CAAT;AACAN,IAAAA,KAAK,CAACM,KAAD,CAAL;AACH;AACJ;;AACD,OAAO,UAAUiB,kBAAV,GAA+B;AAClC,QAAM7C,UAAU,CAACG,oBAAoB,CAAC2B,IAAtB,EAA4Ba,MAA5B,CAAhB;AACH","sourcesContent":["import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { HistoryDataPayload, historyFailure, HistoryPayload, historyRemoveFailure, HistoryRemovePayload, historyRemoveRequest, historyRemoveSuccess, historyRequest, historySuccess, ListDataPayload } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\"\nimport { HistoryModifyPayload, historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAutoAddRequest, historyAutoAddSuccess, historyAutoAddFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action: PayloadAction<HistoryPayload>) {\n    try {\n        const result: HistoryDataPayload = yield call(\n            historyAPI.createAPI,\n            action.payload\n        );\n        yield put(historySuccess(result));\n        alert(JSON.stringify(result))\n        window.location.href = \"/history/history\"\n    } catch (error: any) {\n        yield put(historyFailure(error))\n        alert(`ERROR :: ${error}`)\n    }\n}\n\nexport function* watchCreate() {\n    yield takeLatest(historyRequest.type, create);\n}\n//리스트\nfunction* list(action: PayloadAction<ListDataPayload>) {\n    alert('# 3 SAGA - historyRequest')\n\n    try {\n        const result: HistoryDataPayload = yield call(\n            historyAPI.listAPI,\n            action.payload\n        );\n        alert('# 5 SAGA success - historyRequest')\n        yield put(historyListSuccess(result));\n        \n\n        window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n\n    } catch (error: any) {\n        yield put(historyListFailure(error))\n        alert(error)\n    }\n}\n\nexport function* watchHistoryList() {\n    yield takeLatest(historyListRequest.type, list);\n}\n//수정\nfunction* modify(action: PayloadAction<HistoryModifyPayload>) {\n    try {\n        const result: HistoryModifyPayload = yield call(\n            historyAPI.modifyAPI,\n            action.payload\n        );\n        yield put(historyModifySuccess(result));\n        window.location.href = \"/history/history\"\n    } catch (error: any) {\n        yield put(historyModifyFailure(error))\n        alert(error)\n    }\n}\n\nexport function* watchHistoryModify() {\n    yield takeLatest(historyModifyRequest.type, modify);\n}\n\n//자동 기록 추가\nfunction* autoAdd(action: PayloadAction<HistoryDataPayload>) {\n    try {\n        const result: HistoryDataPayload = yield call(\n            historyAPI.autoAddAPI,\n            action.payload\n        );\n        yield put(historyAutoAddSuccess(result));\n        window.location.href = \"/history/history\"\n    } catch (error: any) {\n        yield put(historyAutoAddFailure(error))\n        alert(error)\n    }\n}\n\nexport function* watchHistoryAutoAdd() {\n    yield takeLatest(historyAutoAddRequest.type, autoAdd);\n}\n// 삭제\nfunction* remove(action: PayloadAction<HistoryRemovePayload>) {\n    try {\n        const result: HistoryRemovePayload = yield call(\n            historyAPI.removeAPI,\n            action.payload\n        );\n        yield put(historyRemoveSuccess(result));\n        window.location.href = \"/history/history\"\n    } catch (error: any) {\n        yield put(historyRemoveFailure(error))\n        alert(error)\n    }\n}\nexport function* watchHistoryRemove() {\n    yield takeLatest(historyRemoveRequest.type, remove);\n}"]},"metadata":{},"sourceType":"module"}